BEGIN TRANSACTION
GO
IF EXISTS ( SELECT 1
            FROM   sysobjects 
            WHERE  id = object_id(N'[dbo].[SELECT_CASH_ACCOUNTS_PLUS]')
                   and OBJECTPROPERTY(id, N'IsProcedure') = 1 )
BEGIN
    DROP PROCEDURE [dbo].[SELECT_CASH_ACCOUNTS_PLUS]
END
GO

CREATE  procedure [dbo].[SELECT_CASH_ACCOUNTS_PLUS]  
AS  
SELECT     ACCOUNTID,ACCOUNTTYPETITLE+' : '+ACCOUNTTITLE ACCOUNTTITLE  
FROM         ACCOUNT  
INNER JOIN ACCOUNTTYPE ON ACCOUNTTYPE.ACCOUNTTYPEID=ACCOUNT.ACCOUNTTYPEID  
WHERE DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,2)=1 OR  
  DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,3)=1 OR  
  DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,4)=1 OR  
  DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,6)=1 OR 
  DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,8)=1 OR
  DBO.IS_PARENTID(ACCOUNTTYPE.ACCOUNTTYPEID,9)=1  
ORDER BY  ACCOUNTNO
GO

COMMIT
GO